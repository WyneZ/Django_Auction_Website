<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" type="text/css" href="{% static 'styles/bs/css/bootstrap.min.css' %}">
    <link rel="stylesheet"  href="{% static 'styles/style.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN">

</head>
<body>

  {% include 'navbar.html' %}
  <!-- ------------------------------- -->
  <!-- Header popular catagory -->

  <div id="catagories" class="header container p-0">
    <div class="container-fluid row h-auto p-0">
      <div class="container-fluid col-sm-7 m-0 p-0">
        <div id="carouselExampleDark" class="carousel carousel-dark slide mt-0 p-0">
          <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="2" aria-label="Slide 3"></button>
          </div>
          <div class="carousel-inner">
            <div class="carousel-item active " data-bs-interval="1000">
                {% for item,img_list in m1_dict.items %}
                <a href="{% url 'item_detail' item.id %}">
                    <div class="row">
                        {% for img in img_list %}
                            <div class="polpuimgBox col w-100">
                              <img src="{{ img.url }}" class="polpular_img img-fluid d-block" alt="...">
                            </div>
                        {% endfor %}
                    </div>
                    <div class="carousel-caption d-none d-md-block bg-gradient  w-auto">
                <h2 class="fw-semibold text-light">{{ item.title }}</h2>
              </div>
                </a>
                {% endfor %}
            </div>

            <div class="polpuimgBox carousel-item bg-body-secondary" data-bs-interval="1000">
                {% for item,img_list in m2_dict.items %}
                <a href="{% url 'item_detail' item.id %}">
                    <div class="row">
                        {% for img in img_list %}
                                <div class="polpuimgBox col w-100">
                                  <img src="{{ img.url }}" class="polpular_img img-fluid d-block" alt="...">
                                </div>
                        {% endfor %}
                    </div>
                    <div class="carousel-caption d-none d-md-block">
                <h2 class="fw-semibold text-light">{{ item.title }}</h2>
              </div>
                </a>
                {% endfor %}


            </div>
            <div class="polpuimgBox carousel-item bg-body-secondary" data-bs-interval="1000">
                {% for item,img_list in m3_dict.items %}
                <a href="{% url 'item_detail' item.id %}">
                    <div class="row">
                        {% for img in img_list %}
                                <div class="polpuimgBox col w-100">
                                  <img src="{{ img.url }}" class="polpular_img img-fluid d-block" alt="...">
                                </div>
                        {% endfor %}
                    </div>
                    <div class="carousel-caption d-none d-md-block">
                <h2 class="fw-semibold">{{ item.title }}</h2>
              </div>
                </a>
                {% endfor %}
            </div>

          </div>
          <button class="carousel-control-prev rounded-circle my-auto" type="button" style="height:5vh; width:5vh; background-color: #9e9e9ea1;" data-bs-target="#carouselExampleDark" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button class="carousel-control-next rounded-circle my-auto" type="button" style="height:5vh; width:5vh; background-color: #9e9e9ea1;" data-bs-target="#carouselExampleDark" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      </div>
      <div class="container-fluid col h-auto ps-2 ">
        <div class=" adsBox container-fluid col-12">
          <div id="carouselExampleSlidesOnly" class=" carousel slide h-100 pb-2" data-bs-ride="carousel">
            <div class="carousel-inner h-100 ">
                {% for item,img_list in b1_dict.items %}
                <a href="{% url 'item_detail' item.id %}">
                        <div class="carousel-item active h-100 position-relative bg-black">
                              <img src="{{ img_list.0.url }}" style="height: 100%; border-radius: 0%;padding: 0%;" class=" img-fluid border-0  img-thumbnail position-absolute border-0 top-50 start-50 translate-middle" alt="...">
                            <div class="text-light bg-dark bg-opacity-25 w-auto px-3 position-absolute bottom-0 m-1 ">
                              <p class="notice_board card-text m-0">CURRENT BID</p>
                              <img src="{% static 'image/coin (3).png' %}"  width="20" height="20" class="coin mb-1">
                              {% if item.sell_price <= 0 %}
                                    <span class="notice_board currentBid">{{ item.reverse_price }}</span>
                                {% else %}
                                    <span class="notice_board currentBid">{{ item.sell_price }}</span>
                                {% endif %}
                            </div>
                          </div>
                    </a>
                {% endfor %}
                {% for item,img_list in b1_dict.items %}
                <a href="{% url 'item_detail' item.id %}">
                          <div class="adsBox carousel-item h-100 position-relative bg-black">
                              <img src="{{ img_list.1.url }}" style="height: 100%; border-radius: 0%;padding: 0%;" class=" img-thumbnail position-absolute top-50 start-50 translate-middle" alt="...">
                            <div class="text-light bg-dark bg-opacity-25 w-auto px-3 position-absolute bottom-0 m-1 ">
                              <p class="notice_board card-text m-0">CURRENT BID</p>
                              <img src="{% static 'image/coin (3).png' %}"  width="20" height="20" class="coin mb-1">
                              {% if item.sell_price <= 0 %}
                                    <span class="notice_board currentBid">{{ item.reverse_price }}</span>
                                {% else %}
                                    <span class="notice_board currentBid">{{ item.sell_price }}</span>
                                {% endif %}
                            </div>
                          </div>
                        </a>
                {% endfor %}
            </div>
          </div>
        </div>
          <div class="container-fluid h-auto p-0">
            <div class=" adsBox container-fluid col-12 p-0">
              <div id="carouselExampleSlidesOnly" class=" carousel slide h-100" data-bs-ride="carousel">
                <div class="carousel-inner h-100">
                    {% for item,img_list in b2_dict.items %}
                    <a href="{% url 'item_detail' item.id %}">
                        <div class="carousel-item active h-100 position-relative bg-black">
                              <img src="{{ img_list.0.url }}" style="height: 100%; border-radius: 0%;padding: 0%;" class=" img-fluid border-0  img-thumbnail position-absolute border-0 top-50 start-50 translate-middle" alt="...">
                            <div class="text-light bg-dark bg-opacity-25 w-auto px-3 position-absolute bottom-0 m-1 ">
                              <p class="notice_board card-text m-0">CURRENT BID</p>
                              <img src="{% static 'image/coin (3).png' %}"  width="20" height="20" class="coin mb-1">
                              {% if item.sell_price <= 0 %}
                                    <span class="notice_board currentBid">{{ item.reverse_price }}</span>
                                {% else %}
                                    <span class="notice_board currentBid">{{ item.sell_price }}</span>
                                {% endif %}
                            </div>
                          </div>
                    </a>
                    {% endfor %}
                    {% for item,img_list in b2_dict.items %}
                        <a href="{% url 'item_detail' item.id %}">
                          <div class="adsBox carousel-item h-100 position-relative bg-black">
                              <img src="{{ img_list.1.url }}" style="height: 100%; border-radius: 0%;padding: 0%;" class=" img-thumbnail position-absolute top-50 start-50 translate-middle" alt="...">
                            <div class="text-light bg-dark bg-opacity-25 w-auto px-3 position-absolute bottom-0 m-1 ">
                              <p class="notice_board card-text m-0">CURRENT BID</p>
                              <img src="{% static 'image/coin (3).png' %}"  width="20" height="20" class="coin mb-1">
                              {% if item.sell_price <= 0 %}
                                    <span class="notice_board currentBid">{{ item.reverse_price }}</span>
                                {% else %}
                                    <span class="notice_board currentBid">{{ item.sell_price }}</span>
                                {% endif %}
                            </div>
                          </div>
                        </a>
                    {% endfor %}
                </div>
              </div>
            </div>
          </div>
      </div>
    </div>


  </div>  
  <!------------------- /advertisement ---------->
  
  <!-- Ending soon -->
  <div id="ending_soon" class="items container my-5">
    <div class="text d-flex justify-content-between">
      <h5 class="text px-3 pb-3 fw-semibold">Ending Soon</h5>
      <a class="link-secondary link-underline-opacity-0 " href="{% url 'search_item' 'Ending Soon' %}">
        <p class="text px-3 pb-3">See More</p>
      </a>
    </div>
    <div id="carouselExample" class="carousel carousel-dark slide">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <div class="cards-wrapper">
<!--           Start es0-->
            <div class="container border border-0 card p-0 mx-2">

              <div class="container card-header border border-0">
                <a href="{% url 'item_detail' ending_list.0.id %}">
                  <img src="{{ ending_img_list.0.url }}" class="img-fluid card-img-top" style="height:18rem;" alt="...">
                </a>
              </div>
              <div class="img_card card-body">
                <h5 class="card-title fw-semibold my-2">{{ ending_list.0.title }}</h5>
                <p class="startBid card-text my-0 ">Current Bid:</p>
                <img src="{% static 'image/coin (3).png' %}"  width="25" height="25" class="post-coin mb-2">
                  {% if ending_list.0.sell_price <= 0 %}
                    <span class="currentBid fw-semibold">{{ ending_list.0.reverse_price }} </span>
                  {% else %}
                    <span class="currentBid fw-semibold">{{ ending_list.0.sell_price }} </span>
                  {% endif %}
                <div class="dueDate d-flex mt-2">
                  <i class="fa-regular fa-clock me-1" style="color: #595b5e;"></i>
                  <span>Closes:</span>
                  <div class="d-flex mx-1">
                    <span class="date" id="countdown_e0"></span>
                      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                      <script>
                          $(document).ready(function() {
                              // var endDate = "2024-02-11T12:56"
                              var endDate = "{{ ending_list.0.due_date }}";

                              if (endDate != "expired") {
                                  var countdownDate = new Date(endDate).getTime();

                                  var x = setInterval(function() {
                                      var now = new Date().getTime();
                                      var distance = countdownDate - now;

                                      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                                      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                                      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                                      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                                      document.getElementById("countdown_e0").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

                                      if (distance < 0) {
                                          clearInterval(x);
                                          document.getElementById("countdown_e0").innerHTML = "EXPIRED";
                                      }
                                  }, 1000);
                              }
                              else {
                                  document.getElementById("countdown_e0").innerHTML = "EXPIRED";
                              }

                          });
                      </script>
                  </div>
                </div>

              <form method="POST" action="{% url 'like_item' ending_list.0.id 'home' %}" class="rating">
                  {% csrf_token %}
                  {% if user in ending_list.0.liked_users.all %}
                      <button class="rate ms-1">
                        <i class="fa-solid fa-heart" style="color: #a80000;"></i>
                      </button>
                  {% else %}
                      <button class="rate">
                        <i class="fa-regular fa-heart" style="color: #333;"></i>
                      </button>
                  {% endif %}
                  <span class="count heart_count">{{ ending_list.0.like_count }}</span>
                </form>
              </div>
            </div>
<!--            End es0-->

<!--             Start es1-->
          <div class="container border border-0 card p-0 mx-2">
            <div class="container card-header border border-0">
              <a href="{% url 'item_detail' ending_list.1.id %}">
                <img src="{{ ending_img_list.1.url }}" class="img-fluid card-img-top" style="height:18rem;" alt="...">
              </a>
            </div>
            <div class="img_card card-body">
              <h5 class="card-title fw-semibold my-2">{{ ending_list.1.title }}</h5>
              <p class="startBid card-text my-0 ">Current Bid</p>
              <img src="{% static 'image/coin (3).png' %}"  width="25" height="25" class="post-coin mb-2">
                {% if ending_list.1.sell_price <= 0 %}
                    <span class="currentBid fw-semibold">{{ ending_list.1.reverse_price }}</span>
                {% else %}
                    <span class="currentBid fw-semibold">{{ ending_list.1.sell_price }}</span>
                {% endif %}
              <div class="dueDate d-flex mt-2">
                <i class="fa-regular fa-clock me-1" style="color: #595b5e;"></i>
                <span>Closes:</span>
                <div class="d-flex mx-1">
                  <span class="date" id="countdown_e1"></span>
                      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                      <script>
                          $(document).ready(function() {
                              // var endDate = "2024-02-11T12:56"
                              var endDate = "{{ ending_list.1.due_date }}";

                              if (endDate != "expired") {
                                  var countdownDate = new Date(endDate).getTime();

                                  var x = setInterval(function() {
                                      var now = new Date().getTime();
                                      var distance = countdownDate - now;

                                      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                                      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                                      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                                      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                                      document.getElementById("countdown_e1").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

                                      if (distance < 0) {
                                          clearInterval(x);
                                          document.getElementById("countdown_e1").innerHTML = "EXPIRED";
                                      }
                                  }, 1000);
                              }
                              else {
                                  document.getElementById("countdown_e1").innerHTML = "EXPIRED";
                              }

                          });
                      </script>
                </div>
              </div>
                <form method="POST" action="{% url 'like_item' ending_list.1.id 'home' %}" class="rating">
                    {% csrf_token %}
                    {% if user in ending_list.1.liked_users.all %}
                        <button class="rate ms-1">
                            <i class="fa-solid fa-heart" style="color: #a80000;"></i>
                        </button>
                    {% else %}
                        <button class="rate">
                            <i class="fa-regular fa-heart" style="color: #333;"></i>
                        </button>
                    {% endif %}
                    <span class="count heart_count">{{ ending_list.1.like_count }}</span>
                </form>
            </div>
          </div>
<!--              End of es1-->

<!--              Start es2-->
          <div class="container card d-none border border-0 d-md-block p-0 mx-2">
            <div class="container card-header border border-0">
              <a href="{% url 'item_detail' ending_list.2.id %}">
                <img src="{{ ending_img_list.2.url }}" class="img-fluid card-img-top" style="height:18rem;" alt="...">
              </a>
            </div>
            <div class="img_card card-body">
              <h5 class="card-title fw-semibold my-2">{{ ending_list.2.title }}</h5>
              <p class="startBid card-text my-0 ">Current Bid</p>
              <img src="{% static 'image/coin (3).png' %}"  width="25" height="25" class="post-coin mb-2">
                {% if ending_list.2.sell_price <= 0 %}
                    <span class="currentBid fw-semibold">{{ ending_list.2.reverse_price }}</span>
                {% else %}
                    <span class="currentBid fw-semibold">{{ ending_list.2.sell_price }}</span>
                {% endif %}
                <div class="dueDate d-flex mt-2">
                <i class="fa-regular fa-clock me-1" style="color: #595b5e;"></i>
                <span>Closes:</span>
                <div class="d-flex mx-1">
                  <span class="date" id="countdown_e2"></span>
                      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                      <script>
                          $(document).ready(function() {
                              // var endDate = "2024-02-11T12:56"
                              var endDate = "{{ ending_list.2.due_date }}";

                              if (endDate != "expired") {
                                  var countdownDate = new Date(endDate).getTime();

                                  var x = setInterval(function() {
                                      var now = new Date().getTime();
                                      var distance = countdownDate - now;

                                      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                                      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                                      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                                      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                                      document.getElementById("countdown_e2").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

                                      if (distance < 0) {
                                          clearInterval(x);
                                          document.getElementById("countdown_e2").innerHTML = "EXPIRED";
                                      }
                                  }, 1000);
                              }
                              else {
                                  document.getElementById("countdown_e2").innerHTML = "EXPIRED";
                              }

                          });
                      </script>
                </div>
                </div>
            <form method="POST" action="{% url 'like_item' ending_list.2.id 'home' %}" class="rating">
                {% csrf_token %}
                {% if user in ending_list.2.liked_users.all %}
                    <button class="rate ms-1">
                        <i class="fa-solid fa-heart" style="color: #a80000;"></i>
                    </button>
                {% else %}
                    <button class="rate">
                        <i class="fa-regular fa-heart" style="color: #333;"></i>
                    </button>
                {% endif %}
                <span class="count heart_count">{{ ending_list.2.like_count }}</span>
            </form>
            </div>

<!--              End es2-->
          </div>
          </div>
        </div>

        <div class="carousel-item">
          <div class="cards-wrapper">
              <!--                Start es3-->
            <div class="container-sm card border border-0 p-0 mx-2">
              <div class="container-sm card-header border border-0">
                <a href="{% url 'item_detail' ending_list.3.id %}">
                  <img src="{{ ending_img_list.3.url }}" class="img-fluid card-img-top" style="height:18rem;" alt="...">
                </a>
               </div>
               <div class="img_card card-body">
                <h5 class="card-title fw-semibold my-2">{{ ending_list.3.title }}</h5>
                <p class="startBid card-text my-0 ">Current Bid</p>
                <img src="{% static 'image/coin (3).png' %}"  width="25" height="25" class="post-coin mb-2">
                   {% if ending_list.3.sell_price <= 0 %}
                        <span class="currentBid fw-semibold">{{ ending_list.3.reverse_price }}</span>
                    {% else %}
                        <span class="currentBid fw-semibold">{{ ending_list.3.sell_price }}</span>
                    {% endif %}
                   <div class="dueDate d-flex mt-2">
                  <i class="fa-regular fa-clock me-1" style="color: #595b5e;"></i>
                  <span>Closes:</span>
                  <div class="d-flex mx-1">
                    <span class="date" id="countdown_e3"></span>
                      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                      <script>
                          $(document).ready(function() {
                              // var endDate = "2024-02-11T12:56"
                              var endDate = "{{ ending_list.3.due_date }}";

                              if (endDate != "expired") {
                                  var countdownDate = new Date(endDate).getTime();

                                  var x = setInterval(function() {
                                      var now = new Date().getTime();
                                      var distance = countdownDate - now;

                                      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                                      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                                      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                                      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                                      document.getElementById("countdown_e3").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

                                      if (distance < 0) {
                                          clearInterval(x);
                                          document.getElementById("countdown_e3").innerHTML = "EXPIRED";
                                      }
                                  }, 1000);
                              }
                              else {
                                  document.getElementById("countdown_e3").innerHTML = "EXPIRED";
                              }

                          });
                      </script>
                  </div>
              </div>
                   <form method="POST" action="{% url 'like_item' ending_list.3.id 'home' %}" class="rating">
                        {% csrf_token %}
                        {% if user in ending_list.3.liked_users.all %}
                            <button class="rate ms-1">
                                <i class="fa-solid fa-heart" style="color: #a80000;"></i>
                            </button>
                        {% else %}
                            <button class="rate">
                                <i class="fa-regular fa-heart" style="color: #333;"></i>
                            </button>
                        {% endif %}
                        <span class="count heart_count">{{ ending_list.3.like_count }}</span>
                    </form>
              </div>
            </div>
<!--              End es3-->
<!--              Start es4-->
            <div class="container-sm card d-none d-md-block border border-0 p-0 mx-2">
              <div class="container-sm card-header border border-0">
                <a href="{% url 'item_detail' ending_list.4.id %}">
                  <img src="{{ ending_img_list.4.url }}" class="img-fluid card-img-top" style="height:18rem;" alt="...">
                </a>
               </div>
               <div class="img_card card-body">
                <h5 class="card-title fw-semibold my-2">{{ ending_list.4.title }}</h5>
                <p class="startBid card-text my-0 ">Current Bid</p>
                <img src="{% static 'image/coin (3).png' %}"  width="25" height="25" class="post-coin mb-2">
                    {% if ending_list.4.sell_price <= 0 %}
                        <span class="currentBid fw-semibold">{{ ending_list.4.reverse_price }}</span>
                    {% else %}
                        <span class="currentBid fw-semibold">{{ ending_list.4.sell_price }}</span>
                    {% endif %}
                <div class="dueDate d-flex mt-2">
                  <i class="fa-regular fa-clock me-1" style="color: #595b5e;"></i>
                  <span>Closes:</span>
                  <div class="d-flex mx-1">
                    <span class="date" id="countdown_e4"></span>
                      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                      <script>
                          $(document).ready(function() {
                              // var endDate = "2024-02-11T12:56"
                              var endDate = "{{ ending_list.4.due_date }}";

                              if (endDate != "expired") {
                                  var countdownDate = new Date(endDate).getTime();

                                  var x = setInterval(function() {
                                      var now = new Date().getTime();
                                      var distance = countdownDate - now;

                                      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                                      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                                      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                                      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                                      document.getElementById("countdown_e4").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

                                      if (distance < 0) {
                                          clearInterval(x);
                                          document.getElementById("countdown_e4").innerHTML = "EXPIRED";
                                      }
                                  }, 1000);
                              }
                              else {
                                  document.getElementById("countdown_e4").innerHTML = "EXPIRED";
                              }

                          });
                      </script>
                  </div>

              </div>
                <form method="POST" action="{% url 'like_item' ending_list.4.id 'home' %}" class="rating">
                    {% csrf_token %}
                    {% if user in ending_list.4.liked_users.all %}
                        <button class="rate ms-1">
                            <i class="fa-solid fa-heart" style="color: #a80000;"></i>
                        </button>
                    {% else %}
                        <button class="rate">
                            <i class="fa-regular fa-heart" style="color: #333;"></i>
                        </button>
                    {% endif %}
                    <span class="count heart_count">{{ ending_list.4.like_count }}</span>
                </form>
              </div>
            </div>
<!--              End es4-->
<!--              Start es5-->
            <div class="container-sm card d-none d-md-block border border-0 p-0 mx-2">
              <div class="container-sm card-header border border-0">
                <a href="{% url 'item_detail' ending_list.5.id %}">
                  <img src="{{ ending_img_list.5.url }}" class="img-fluid card-img-top" style="height:18rem;" alt="...">
                </a>
               </div>
               <div class="img_card card-body">
                <h5 class="card-title fw-semibold my-2">{{ ending_list.5.title }}</h5>
                <p class="startBid card-text my-0 ">Current Bid</p>
                <img src="{% static 'image/coin (3).png' %}"  width="25" height="25" class="post-coin mb-2">
                    {% if ending_list.5.sell_price <= 0 %}
                        <span class="currentBid fw-semibold">{{ ending_list.5.reverse_price }}</span>
                    {% else %}
                        <span class="currentBid fw-semibold">{{ ending_list.5.sell_price }}</span>
                    {% endif %}
                <div class="dueDate d-flex mt-2">
                  <i class="fa-regular fa-clock me-1" style="color: #595b5e;"></i>
                  <span>Closes:</span>
                  <div class="d-flex mx-1">
                    <span class="date" id="countdown_e5"></span>
                      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                      <script>
                          $(document).ready(function() {
                              // var endDate = "2024-02-11T12:56"
                              var endDate = "{{ ending_list.5.due_date }}";

                              if (endDate != "expired") {
                                  var countdownDate = new Date(endDate).getTime();

                                  var x = setInterval(function() {
                                      var now = new Date().getTime();
                                      var distance = countdownDate - now;

                                      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                                      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                                      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                                      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                                      document.getElementById("countdown_e5").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

                                      if (distance < 0) {
                                          clearInterval(x);
                                          document.getElementById("countdown_e5").innerHTML = "EXPIRED";
                                      }
                                  }, 1000);
                              }
                              else {
                                  document.getElementById("countdown_e5").innerHTML = "EXPIRED";
                              }

                          });
                      </script>
                  </div>
              </div>
                   <form method="POST" action="{% url 'like_item' ending_list.5.id 'home' %}" class="rating">
                        {% csrf_token %}
                        {% if user in ending_list.5.liked_users.all %}
                            <button class="rate ms-1">
                                <i class="fa-solid fa-heart" style="color: #a80000;"></i>
                            </button>
                        {% else %}
                            <button class="rate">
                                <i class="fa-regular fa-heart" style="color: #333;"></i>
                            </button>
                        {% endif %}
                        <span class="count heart_count">{{ ending_list.5.like_count }}</span>
                    </form>
              </div>
            </div>
          </div>
        </div>
        <div class="carousel-item">
          <div class="cards-wrapper">
<!--              Start es6-->
            <div class="container-sm card border border-0 p-0 mx-2">
              <div class="container-sm card-header border border-0">
                <a href="{% url 'item_detail' ending_list.6.id %}">
                  <img src="{{ ending_img_list.6.url }}" class="img-fluid card-img-top" style="height:18rem;" alt="...">
                </a>
               </div>
               <div class="img_card card-body">
                <h5 class="card-title fw-semibold my-2">{{ ending_list.6.title }}</h5>
                <p class="startBid card-text my-0 ">Current Bid</p>
                <img src="{% static 'image/coin (3).png' %}"  width="25" height="25" class="post-coin mb-2">
                    {% if ending_list.6.sell_price <= 0 %}
                        <span class="currentBid fw-semibold">{{ ending_list.6.reverse_price }}</span>
                    {% else %}
                        <span class="currentBid fw-semibold">{{ ending_list.6.sell_price }}</span>
                    {% endif %}
                <div class="dueDate d-flex mt-2">
                  <i class="fa-regular fa-clock me-1" style="color: #595b5e;"></i>
                  <span>Closes:</span>
                  <div class="d-flex mx-1">
                    <span class="date" id="countdown_e6"></span>
                      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                      <script>
                          $(document).ready(function() {
                              // var endDate = "2024-02-11T12:56"
                              var endDate = "{{ ending_list.6.due_date }}";

                              if (endDate != "expired") {
                                  var countdownDate = new Date(endDate).getTime();

                                  var x = setInterval(function() {
                                      var now = new Date().getTime();
                                      var distance = countdownDate - now;

                                      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                                      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                                      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                                      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                                      document.getElementById("countdown_e6").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

                                      if (distance < 0) {
                                          clearInterval(x);
                                          document.getElementById("countdown_e6").innerHTML = "EXPIRED";
                                      }
                                  }, 1000);
                              }
                              else {
                                  document.getElementById("countdown_e6").innerHTML = "EXPIRED";
                              }

                          });
                      </script>
                  </div>
              </div>
                   <form method="POST" action="{% url 'like_item' ending_list.6.id 'home' %}" class="rating">
                        {% csrf_token %}
                        {% if user in ending_list.6.liked_users.all %}
                            <button class="rate ms-1">
                                <i class="fa-solid fa-heart" style="color: #a80000;"></i>
                            </button>
                        {% else %}
                            <button class="rate">
                                <i class="fa-regular fa-heart" style="color: #333;"></i>
                            </button>
                        {% endif %}
                        <span class="count heart_count">{{ ending_list.6.like_count }}</span>
                   </form>
              </div>
            </div>
<!--              End es6-->
<!--              Start es7-->
            <div class="container-sm card d-none d-md-block border border-0 p-0 mx-2">
              <div class="container-sm card-header border border-0">
                <a href="{% url 'item_detail' ending_list.7.id %}">
                  <img src="{{ ending_img_list.7.url }}" class="img-fluid card-img-top" style="height:18rem;" alt="...">
                </a>
               </div>
               <div class="img_card card-body">
                <h5 class="card-title fw-semibold my-2">{{ ending_list.7.title }}</h5>
                <p class="startBid card-text my-0 ">Current Bid</p>
                <img src="{% static 'image/coin (3).png' %}"  width="25" height="25" class="post-coin mb-2">
                    {% if ending_list.7.sell_price <= 0 %}
                        <span class="currentBid fw-semibold">{{ ending_list.7.reverse_price }}</span>
                    {% else %}
                        <span class="currentBid fw-semibold">{{ ending_list.7.sell_price }}</span>
                    {% endif %}
                <div class="dueDate d-flex mt-2">
                  <i class="fa-regular fa-clock me-1" style="color: #595b5e;"></i>
                  <span>Closes:</span>
                  <div class="d-flex mx-1">
                    <span class="date" id="countdown_e7"></span>
                      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                      <script>
                          $(document).ready(function() {
                              // var endDate = "2024-02-11T12:56"
                              var endDate = "{{ ending_list.7.due_date }}";

                              if (endDate != "expired") {
                                  var countdownDate = new Date(endDate).getTime();

                                  var x = setInterval(function() {
                                      var now = new Date().getTime();
                                      var distance = countdownDate - now;

                                      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                                      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                                      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                                      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                                      document.getElementById("countdown_e7").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

                                      if (distance < 0) {
                                          clearInterval(x);
                                          document.getElementById("countdown_e7").innerHTML = "EXPIRED";
                                      }
                                  }, 1000);
                              }
                              else {
                                  document.getElementById("countdown_e7").innerHTML = "EXPIRED";
                              }

                          });
                      </script>
                  </div>
              </div>
                   <form method="POST" action="{% url 'like_item' ending_list.7.id 'home' %}" class="rating">
                        {% csrf_token %}
                        {% if user in ending_list.7.liked_users.all %}
                            <button class="rate ms-1">
                                <i class="fa-solid fa-heart" style="color: #a80000;"></i>
                            </button>
                        {% else %}
                            <button class="rate">
                                <i class="fa-regular fa-heart" style="color: #333;"></i>
                            </button>
                        {% endif %}
                        <span class="count heart_count">{{ ending_list.7.like_count }}</span>
                    </form>
              </div>
            </div>
<!--              Start es8-->
            <div class="container-sm card d-none d-md-block border border-0 p-0 mx-2">
              <div class="container-sm card-header border border-0">
                <a href="{% url 'item_detail' ending_list.8.id %}">
                  <img src="{{ ending_img_list.8.url }}" class="img-fluid card-img-top" style="height:18rem;" alt="...">
                </a>
               </div>
               <div class="img_card card-body">
                <h5 class="card-title fw-semibold my-2">{{ ending_list.8.title }}</h5>
                <p class="startBid card-text my-0 ">Current Bid</p>
                <img src="{% static 'image/coin (3).png' %}"  width="25" height="25" class="post-coin mb-2">
                    {% if ending_list.8.sell_price <= 0 %}
                        <span class="currentBid fw-semibold">{{ ending_list.8.reverse_price }}</span>
                    {% else %}
                        <span class="currentBid fw-semibold">{{ ending_list.8.sell_price }}</span>
                    {% endif %}
                <div class="dueDate d-flex mt-2">
                  <i class="fa-regular fa-clock me-1" style="color: #595b5e;"></i>
                  <span>Closes:</span>
                  <div class="d-flex mx-1">
                    <span class="date" id="countdown_e8"></span>
                      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                      <script>
                          $(document).ready(function() {
                              // var endDate = "2024-02-11T12:56"
                              var endDate = "{{ ending_list.8.due_date }}";

                              if (endDate != "expired") {
                                  var countdownDate = new Date(endDate).getTime();

                                  var x = setInterval(function() {
                                      var now = new Date().getTime();
                                      var distance = countdownDate - now;

                                      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                                      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                                      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                                      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                                      document.getElementById("countdown_e8").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

                                      if (distance < 0) {
                                          clearInterval(x);
                                          document.getElementById("countdown_e8").innerHTML = "EXPIRED";
                                      }
                                  }, 1000);
                              }
                              else {
                                  document.getElementById("countdown_e8").innerHTML = "EXPIRED";
                              }

                          });
                      </script>
                  </div>
              </div>
                   <form method="POST" action="{% url 'like_item' ending_list.8.id 'home' %}" class="rating">
                        {% csrf_token %}
                        {% if user in ending_list.8.liked_users.all %}
                            <button class="rate ms-1">
                                <i class="fa-solid fa-heart" style="color: #a80000;"></i>
                            </button>
                        {% else %}
                            <button class="rate">
                                <i class="fa-regular fa-heart" style="color: #333;"></i>
                            </button>
                        {% endif %}
                        <span class="count heart_count">{{ ending_list.8.like_count }}</span>
                    </form>
              </div>
            </div>
<!--              End es8-->
          </div>
        </div>
        <button class="carousel-control-prev rounded-circle " type="button" style="height:5vh; width:5vh; top:30%;background-color: #9e9e9ea1;" data-bs-target="#carouselExample" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next rounded-circle " type="button" style="height:5vh; width:5vh; top:30%;background-color: #9e9e9ea1;" data-bs-target="#carouselExample" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>
  </div>
  <!---------------- /Ending Soon ------------------->

  <!-- Lasted -->
  <div id="lasted" class="items container">
    <hr>
    <div class="text d-flex justify-content-between">
      <h5 class="text px-3 pb-3 fw-semibold">Lasted Post</h5>
      <a class="link-secondary link-underline-opacity-0" href="{% url 'search_item' 'Latest Post' %}">
        <p class="text px-3 pb-3 te">See More</p>
      </a>
    </div>
    <div id="carouselExample1" class="carousel carousel-dark slide">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <div class="cards-wrapper">
<!--              L0-->
            <div class="container border border-0 card p-0 mx-2" id="postId">
              <div class="container-sm card-header border border-0">
                <a href="{% url 'item_detail' latest_list.0.id %}">
                  <img src="{{ latest_img_list.0.url }}" class="img-fluid card-img-top" style="height:18rem;" alt="...">
                </a>
               </div>
               <div class="img_card card-body">
                <h5 class="card-title fw-semibold my-2">{{ latest_list.0.title }}</h5>
                <p class="startBid card-text my-0 ">Current Bid</p>
                <img src="{% static 'image/coin (3).png' %}"  width="25" height="25" class="post-coin mb-2">
                    {% if latest_list.0.sell_price <= 0 %}
                        <span class="currentBid fw-semibold">{{ latest_list.0.reverse_price }} </span>
                    {% else %}
                        <span class="currentBid fw-semibold">{{ latest_list.0.sell_price }} </span>
                    {% endif %}
                <div class="dueDate d-flex mt-2">
                  <i class="fa-regular fa-clock me-1" style="color: #595b5e;"></i>
                  <span>Closes:</span>
                  <div class="d-flex mx-1">
                    <span class="date " id="countdown_l0"></span>
                    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                      <script>
                          $(document).ready(function() {
                              // var endDate = "2024-02-11T12:56"
                              var endDate = "{{ latest_list.0.due_date }}";

                              if (endDate != "expired") {
                                  var countdownDate = new Date(endDate).getTime();

                                  var x = setInterval(function() {
                                      var now = new Date().getTime();
                                      var distance = countdownDate - now;

                                      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                                      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                                      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                                      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                                      document.getElementById("countdown_l0").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

                                      if (distance < 0) {
                                          clearInterval(x);
                                          document.getElementById("countdown_l0").innerHTML = "EXPIRED";
                                      }
                                  }, 1000);
                              }
                              else {
                                  document.getElementById("countdown_l0").innerHTML = "EXPIRED";
                              }

                          });
                      </script>
                  </div>

              </div>
                   <form method="POST" action="{% url 'like_item' latest_list.0.id 'home' %}" class="rating">
                      {% csrf_token %}
                      {% if user in latest_list.0.liked_users.all %}
                          <button class="rate ms-1">
                            <i class="fa-solid fa-heart" style="color: #a80000;"></i>
                          </button>
                      {% else %}
                          <button class="rate">
                            <i class="fa-regular fa-heart" style="color: #333;"></i>
                          </button>
                      {% endif %}
                      <span class="count heart_count">{{ latest_list.0.like_count }}</span>
                   </form>
              </div>
            </div>
<!--              L1-->
            <div class="container card d-none border border-0 d-md-block p-0 mx-2">
              <div class="container-sm card-header border border-0">
                <a href="{% url 'item_detail' latest_list.1.id %}">
                  <img src="{{ latest_img_list.1.url }}" class="img-fluid card-img-top" style="height:18rem;" alt="...">
                </a>
               </div>
               <div class="img_card card-body">
                <h5 class="card-title fw-semibold my-2">{{ latest_list.1.title }}</h5>
                <p class="startBid card-text my-0 ">Current Bid</p>
                <img src="{% static 'image/coin (3).png' %}"  width="25" height="25" class="post-coin mb-2">
                    {% if latest_list.1.sell_price <= 0 %}
                        <span class="currentBid fw-semibold">{{ latest_list.1.reverse_price }} </span>
                    {% else %}
                        <span class="currentBid fw-semibold">{{ latest_list.1.sell_price }} </span>
                    {% endif %}
                <div class="dueDate d-flex mt-2">
                  <i class="fa-regular fa-clock me-1" style="color: #595b5e;"></i>
                  <span>Closes:</span>
                  <div class="d-flex mx-1">
                    <span class="date " id="countdown_l1"></span>
                    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                      <script>
                          $(document).ready(function() {
                              // var endDate = "2024-02-11T12:56"
                              var endDate = "{{ latest_list.1.due_date }}";

                              if (endDate != "expired") {
                                  var countdownDate = new Date(endDate).getTime();

                                  var x = setInterval(function() {
                                      var now = new Date().getTime();
                                      var distance = countdownDate - now;

                                      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                                      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                                      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                                      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                                      document.getElementById("countdown_l1").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

                                      if (distance < 0) {
                                          clearInterval(x);
                                          document.getElementById("countdown_l1").innerHTML = "EXPIRED";
                                      }
                                  }, 1000);
                              }
                              else {
                                  document.getElementById("countdown_l1").innerHTML = "EXPIRED";
                              }

                          });
                      </script>
                  </div>
              </div>
                   <form method="POST" action="{% url 'like_item' latest_list.1.id 'home' %}" class="rating">
                      {% csrf_token %}
                      {% if user in latest_list.1.liked_users.all %}
                          <button class="rate ms-1">
                            <i class="fa-solid fa-heart" style="color: #a80000;"></i>
                          </button>
                      {% else %}
                          <button class="rate">
                            <i class="fa-regular fa-heart" style="color: #333;"></i>
                          </button>
                      {% endif %}
                      <span class="count heart_count">{{ latest_list.1.like_count }}</span>
                   </form>
              </div>
            </div>
<!--              L2-->
            <div class="container card d-none border border-0 d-md-block p-0 mx-2">
              <div class="container-sm card-header border border-0">
                <a href="{% url 'item_detail' latest_list.2.id %}">
                  <img src="{{ latest_img_list.2.url }}" class="img-fluid card-img-top" style="height:18rem;" alt="...">
                </a>
               </div>
               <div class="img_card card-body">
                <h5 class="card-title fw-semibold my-2">{{ latest_list.2.title }}</h5>
                <p class="startBid card-text my-0 ">Current Bid</p>
                <img src="{% static 'image/coin (3).png' %}"  width="25" height="25" class="post-coin mb-2">
                    {% if latest_list.2.sell_price <= 0 %}
                        <span class="currentBid fw-semibold">{{ latest_list.2.reverse_price }} </span>
                    {% else %}
                        <span class="currentBid fw-semibold">{{ latest_list.2.sell_price }} </span>
                    {% endif %}
                <div class="dueDate d-flex mt-2">
                  <i class="fa-regular fa-clock me-1" style="color: #595b5e;"></i>
                  <span>Closes:</span>
                  <div class="d-flex mx-1">
                    <span class="date " id="countdown_l2">0</span>
                    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                      <script>
                          $(document).ready(function() {
                              // var endDate = "2024-02-11T12:56"
                              var endDate = "{{ latest_list.2.due_date }}";

                              if (endDate != "expired") {
                                  var countdownDate = new Date(endDate).getTime();

                                  var x = setInterval(function() {
                                      var now = new Date().getTime();
                                      var distance = countdownDate - now;

                                      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                                      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                                      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                                      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                                      document.getElementById("countdown_l2").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

                                      if (distance < 0) {
                                          clearInterval(x);
                                          document.getElementById("countdown_l2").innerHTML = "EXPIRED";
                                      }
                                  }, 1000);
                              }
                              else {
                                  document.getElementById("countdown_l2").innerHTML = "EXPIRED";
                              }

                          });
                      </script>
                  </div>

              </div>
                   <form method="POST" action="{% url 'like_item' latest_list.2.id 'home' %}" class="rating">
                      {% csrf_token %}
                      {% if user in latest_list.2.liked_users.all %}
                          <button class="rate ms-1">
                            <i class="fa-solid fa-heart" style="color: #a80000;"></i>
                          </button>
                      {% else %}
                          <button class="rate">
                            <i class="fa-regular fa-heart" style="color: #333;"></i>
                          </button>
                      {% endif %}
                      <span class="count heart_count">{{ latest_list.2.like_count }}</span>
                   </form>
              </div>
            </div>
          </div>
        </div>
        <div class="carousel-item">
          <div class="cards-wrapper">
<!--              L3-->
            <div class="container-sm card border border-0 p-0 mx-2">
              <div class="container-sm card-header border border-0">
                <a href="{% url 'item_detail' latest_list.3.id %}">
                  <img src="{{ latest_img_list.3.url }}" class="img-fluid card-img-top" style="height:18rem;" alt="...">
                </a>
               </div>
               <div class="img_card card-body">
                <h5 class="card-title fw-semibold my-2">{{ latest_list.3.title }}</h5>
                <p class="startBid card-text my-0 ">Current Bid</p>
                <img src="{% static 'image/coin (3).png' %}"  width="25" height="25" class="post-coin mb-2">
                    {% if latest_list.3.sell_price <= 0 %}
                        <span class="currentBid fw-semibold">{{ latest_list.3.reverse_price }} </span>
                    {% else %}
                        <span class="currentBid fw-semibold">{{ latest_list.3.sell_price }} </span>
                    {% endif %}
                <div class="dueDate d-flex mt-2">
                  <i class="fa-regular fa-clock me-1" style="color: #595b5e;"></i>
                  <span>Closes:</span>
                  <div class="d-flex mx-1">
                    <span class="date " id="countdown_l3"></span>
                    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                      <script>
                          $(document).ready(function() {
                              // var endDate = "2024-02-11T12:56"
                              var endDate = "{{ latest_list.3.due_date }}";

                              if (endDate != "expired") {
                                  var countdownDate = new Date(endDate).getTime();

                                  var x = setInterval(function() {
                                      var now = new Date().getTime();
                                      var distance = countdownDate - now;

                                      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                                      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                                      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                                      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                                      document.getElementById("countdown_l3").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

                                      if (distance < 0) {
                                          clearInterval(x);
                                          document.getElementById("countdown_l3").innerHTML = "EXPIRED";
                                      }
                                  }, 1000);
                              }
                              else {
                                  document.getElementById("countdown_l3").innerHTML = "EXPIRED";
                              }

                          });
                      </script>
                  </div>
              </div>
                   <form method="POST" action="{% url 'like_item' latest_list.3.id 'home' %}" class="rating">
                      {% csrf_token %}
                      {% if user in latest_list.3.liked_users.all %}
                          <button class="rate ms-1">
                            <i class="fa-solid fa-heart" style="color: #a80000;"></i>
                          </button>
                      {% else %}
                          <button class="rate">
                            <i class="fa-regular fa-heart" style="color: #333;"></i>
                          </button>
                      {% endif %}
                      <span class="count heart_count">{{ latest_list.3.like_count }}</span>
                   </form>
              </div>
            </div>
<!--              L4-->
            <div class="container-sm card d-none d-md-block border border-0 p-0 mx-2">
              <div class="container-sm card-header border border-0">
                <a href="{% url 'item_detail' latest_list.4.id %}">
                  <img src="{{ latest_img_list.4.url }}" class="img-fluid card-img-top" style="height:18rem;" alt="...">
                </a>
               </div>
               <div class="img_card card-body">
                <h5 class="card-title fw-semibold my-2">{{ latest_list.4.title }}</h5>
                <p class="startBid card-text my-0 ">Current Bid</p>
                <img src="{% static 'image/coin (3).png' %}"  width="25" height="25" class="post-coin mb-2">
                    {% if latest_list.4.sell_price <= 0 %}
                        <span class="currentBid fw-semibold">{{ latest_list.4.reverse_price }} </span>
                    {% else %}
                        <span class="currentBid fw-semibold">{{ latest_list.4.sell_price }} </span>
                    {% endif %}
                <div class="dueDate d-flex mt-2">
                  <i class="fa-regular fa-clock me-1" style="color: #595b5e;"></i>
                  <span>Closes:</span>
                  <div class="d-flex mx-1">
                    <span class="date " id="countdown_l4"></span>
                    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                      <script>
                          $(document).ready(function() {
                              // var endDate = "2024-02-11T12:56"
                              var endDate = "{{ latest_list.4.due_date }}";

                              if (endDate != "expired") {
                                  var countdownDate = new Date(endDate).getTime();

                                  var x = setInterval(function() {
                                      var now = new Date().getTime();
                                      var distance = countdownDate - now;

                                      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                                      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                                      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                                      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                                      document.getElementById("countdown_l4").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

                                      if (distance < 0) {
                                          clearInterval(x);
                                          document.getElementById("countdown_l4").innerHTML = "EXPIRED";
                                      }
                                  }, 1000);
                              }
                              else {
                                  document.getElementById("countdown_l4").innerHTML = "EXPIRED";
                              }

                          });
                      </script>
                  </div>

              </div>
                   <form method="POST" action="{% url 'like_item' latest_list.4.id 'home' %}" class="rating">
                      {% csrf_token %}
                      {% if user in latest_list.4.liked_users.all %}
                          <button class="rate ms-1">
                            <i class="fa-solid fa-heart" style="color: #a80000;"></i>
                          </button>
                      {% else %}
                          <button class="rate">
                            <i class="fa-regular fa-heart" style="color: #333;"></i>
                          </button>
                      {% endif %}
                      <span class="count heart_count">{{ latest_list.4.like_count }}</span>
                   </form>
              </div>
            </div>
<!--              L5-->
            <div class="container-sm card d-none d-md-block border border-0 p-0 mx-2">
              <div class="container-sm card-header border border-0">
                <a href="{% url 'item_detail' latest_list.5.id %}">
                  <img src="{{ latest_img_list.5.url }}" class="img-fluid card-img-top" style="height:18rem;" alt="...">
                </a>
               </div>
               <div class="img_card card-body">
                <h5 class="card-title fw-semibold my-2">{{ latest_list.5.title }}</h5>
                <p class="startBid card-text my-0 ">Current Bid</p>
                <img src="{% static 'image/coin (3).png' %}"  width="25" height="25" class="post-coin mb-2">
                    {% if latest_list.5.sell_price <= 0 %}
                        <span class="currentBid fw-semibold">{{ latest_list.5.reverse_price }} </span>
                    {% else %}
                        <span class="currentBid fw-semibold">{{ latest_list.5.sell_price }} </span>
                    {% endif %}
                <div class="dueDate d-flex mt-2">
                  <i class="fa-regular fa-clock me-1" style="color: #595b5e;"></i>
                  <span>Closes:</span>
                  <div class="d-flex mx-1">
                    <span class="date " id="countdown_l5"></span>
                    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                      <script>
                          $(document).ready(function() {
                              // var endDate = "2024-02-11T12:56"
                              var endDate = "{{ latest_list.5.due_date }}";

                              if (endDate != "expired") {
                                  var countdownDate = new Date(endDate).getTime();

                                  var x = setInterval(function() {
                                      var now = new Date().getTime();
                                      var distance = countdownDate - now;

                                      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                                      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                                      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                                      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                                      document.getElementById("countdown_l5").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

                                      if (distance < 0) {
                                          clearInterval(x);
                                          document.getElementById("countdown_l5").innerHTML = "EXPIRED";
                                      }
                                  }, 1000);
                              }
                              else {
                                  document.getElementById("countdown_l5").innerHTML = "EXPIRED";
                              }

                          });
                      </script>
                  </div>

              </div>
                   <form method="POST" action="{% url 'like_item' latest_list.5.id 'home' %}" class="rating">
                      {% csrf_token %}
                      {% if user in latest_list.5.liked_users.all %}
                          <button class="rate ms-1">
                            <i class="fa-solid fa-heart" style="color: #a80000;"></i>
                          </button>
                      {% else %}
                          <button class="rate">
                            <i class="fa-regular fa-heart" style="color: #333;"></i>
                          </button>
                      {% endif %}
                      <span class="count heart_count">{{ latest_list.5.like_count }}</span>
                   </form>
              </div>
            </div>
          </div>
        </div>
        <div class="carousel-item">
          <div class="cards-wrapper">
<!--              L6-->
            <div class="container-sm card border border-0 p-0 mx-2">
              <div class="container-sm card-header border border-0">
                <a href="{% url 'item_detail' latest_list.6.id %}">
                  <img src="{{ latest_img_list.6.url }}" class="img-fluid card-img-top" style="height:18rem;" alt="...">
                </a>
               </div>
               <div class="img_card card-body">
                <h5 class="card-title fw-semibold my-2">{{ latest_list.6.title }}</h5>
                <p class="startBid card-text my-0 ">Current Bid</p>
                <img src="{% static 'image/coin (3).png' %}"  width="25" height="25" class="post-coin mb-2">
                    {% if latest_list.6.sell_price <= 0 %}
                        <span class="currentBid fw-semibold">{{ latest_list.6.reverse_price }} </span>
                    {% else %}
                        <span class="currentBid fw-semibold">{{ latest_list.6.sell_price }} </span>
                    {% endif %}
                <div class="dueDate d-flex mt-2">
                  <i class="fa-regular fa-clock me-1" style="color: #595b5e;"></i>
                  <span>Closes:</span>
                  <div class="d-flex mx-1">
                    <span class="date " id="countdown_l6"></span>
                    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                      <script>
                          $(document).ready(function() {
                              // var endDate = "2024-02-11T12:56"
                              var endDate = "{{ latest_list.6.due_date }}";

                              if (endDate != "expired") {
                                  var countdownDate = new Date(endDate).getTime();

                                  var x = setInterval(function() {
                                      var now = new Date().getTime();
                                      var distance = countdownDate - now;

                                      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                                      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                                      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                                      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                                      document.getElementById("countdown_l6").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

                                      if (distance < 0) {
                                          clearInterval(x);
                                          document.getElementById("countdown_l6").innerHTML = "EXPIRED";
                                      }
                                  }, 1000);
                              }
                              else {
                                  document.getElementById("countdown_l6").innerHTML = "EXPIRED";
                              }

                          });
                      </script>
                  </div>

              </div>
                   <form method="POST" action="{% url 'like_item' latest_list.6.id 'home' %}" class="rating">
                      {% csrf_token %}
                      {% if user in latest_list.6.liked_users.all %}
                          <button class="rate ms-1">
                            <i class="fa-solid fa-heart" style="color: #a80000;"></i>
                          </button>
                      {% else %}
                          <button class="rate">
                            <i class="fa-regular fa-heart" style="color: #333;"></i>
                          </button>
                      {% endif %}
                      <span class="count heart_count">{{ latest_list.6.like_count }}</span>
                   </form>
              </div>
            </div>
<!--              L7-->
            <div class="container-sm card d-none d-md-block border border-0 p-0 mx-2">
              <div class="container-sm card-header border border-0">
                <a href="{% url 'item_detail' latest_list.7.id %}">
                  <img src="{{ latest_img_list.7.url }}" class="img-fluid card-img-top" style="height:18rem;" alt="...">
                </a>
               </div>
               <div class="img_card card-body">
                <h5 class="card-title fw-semibold my-2">{{ latest_list.7.title }}</h5>
                <p class="startBid card-text my-0 ">Current Bid</p>
                <img src="{% static 'image/coin (3).png' %}"  width="25" height="25" class="post-coin mb-2">
                    {% if latest_list.7.sell_price <= 0 %}
                        <span class="currentBid fw-semibold">{{ latest_list.7.reverse_price }} </span>
                    {% else %}
                        <span class="currentBid fw-semibold">{{ latest_list.7.sell_price }} </span>
                    {% endif %}
                <div class="dueDate d-flex mt-2">
                  <i class="fa-regular fa-clock me-1" style="color: #595b5e;"></i>
                  <span>Closes:</span>
                  <div class="d-flex mx-1">
                    <span class="date " id="countdown_l7"></span>
                    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                      <script>
                          $(document).ready(function() {
                              // var endDate = "2024-02-11T12:56"
                              var endDate = "{{ latest_list.7.due_date }}";

                              if (endDate != "expired") {
                                  var countdownDate = new Date(endDate).getTime();

                                  var x = setInterval(function() {
                                      var now = new Date().getTime();
                                      var distance = countdownDate - now;

                                      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                                      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                                      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                                      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                                      document.getElementById("countdown_l7").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

                                      if (distance < 0) {
                                          clearInterval(x);
                                          document.getElementById("countdown_l7").innerHTML = "EXPIRED";
                                      }
                                  }, 1000);
                              }
                              else {
                                  document.getElementById("countdown_l7").innerHTML = "EXPIRED";
                              }

                          });
                      </script>
                  </div>

              </div>
                   <form method="POST" action="{% url 'like_item' latest_list.7.id 'home' %}" class="rating">
                      {% csrf_token %}
                      {% if user in latest_list.7.liked_users.all %}
                          <button class="rate ms-1">
                            <i class="fa-solid fa-heart" style="color: #a80000;"></i>
                          </button>
                      {% else %}
                          <button class="rate">
                            <i class="fa-regular fa-heart" style="color: #333;"></i>
                          </button>
                      {% endif %}
                      <span class="count heart_count">{{ latest_list.7.like_count }}</span>
                   </form>
              </div>
            </div>
<!--              L8-->
            <div class="container-sm card d-none d-md-block border border-0 p-0 mx-2">
              <div class="container-sm card-header border border-0">
                <a href="{% url 'item_detail' latest_list.8.id %}">
                  <img src="{{ latest_img_list.8.url }}" class="img-fluid card-img-top" style="height:18rem;" alt="...">
                </a>
               </div>
               <div class="img_card card-body">
                <h5 class="card-title fw-semibold my-2">{{ latest_list.8.title }}</h5>
                <p class="startBid card-text my-0 ">Current Bid</p>
                <img src="{% static 'image/coin (3).png' %}"  width="25" height="25" class="post-coin mb-2">
                    {% if latest_list.8.sell_price <= 0 %}
                        <span class="currentBid fw-semibold">{{ latest_list.8.reverse_price }} </span>
                    {% else %}
                        <span class="currentBid fw-semibold">{{ latest_list.8.sell_price }} </span>
                    {% endif %}
                <div class="dueDate d-flex mt-2">
                  <i class="fa-regular fa-clock me-1" style="color: #595b5e;"></i>
                  <span>Closes:</span>
                  <div class="d-flex mx-1">
                    <span class="date " id="countdown_l8"></span>
                    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                      <script>
                          $(document).ready(function() {
                              // var endDate = "2024-02-11T12:56"
                              var endDate = "{{ latest_list.8.due_date }}";

                              if (endDate != "expired") {
                                  var countdownDate = new Date(endDate).getTime();

                                  var x = setInterval(function() {
                                      var now = new Date().getTime();
                                      var distance = countdownDate - now;

                                      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                                      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                                      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                                      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                                      document.getElementById("countdown_l8").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

                                      if (distance < 0) {
                                          clearInterval(x);
                                          document.getElementById("countdown_l8").innerHTML = "EXPIRED";
                                      }
                                  }, 1000);
                              }
                              else {
                                  document.getElementById("countdown_l8").innerHTML = "EXPIRED";
                              }

                          });
                      </script>
                  </div>

              </div>
                   <form method="POST" action="{% url 'like_item' latest_list.8.id 'home' %}" class="rating">
                      {% csrf_token %}
                      {% if user in latest_list.8.liked_users.all %}
                          <button class="rate ms-1">
                            <i class="fa-solid fa-heart" style="color: #a80000;"></i>
                          </button>
                      {% else %}
                          <button class="rate">
                            <i class="fa-regular fa-heart" style="color: #333;"></i>
                          </button>
                      {% endif %}
                      <span class="count heart_count">{{ latest_list.8.like_count }}</span>
                   </form>
              </div>
            </div>
          </div>
        </div>
        <button class="carousel-control-prev rounded-circle " type="button" style="height:5vh; width:5vh; top:30%;background-color: #9e9e9ea1;" data-bs-target="#carouselExample1" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next rounded-circle " type="button" style="height:5vh; width:5vh; top:30%;background-color: #9e9e9ea1;" data-bs-target="#carouselExample1" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>
  </div>
  <!----------------- /Lasted --------------------------->
    <!-- Popular -->
    <div id="popular" class="items container">
      <hr>
      <div class="text d-flex justify-content-between">
        <h5 class="text px-3 pb-3 fw-semibold">Popular Post</h5>
        <a class="link-secondary link-underline-opacity-0" href="{% url 'search_item' 'Popular Post' %}">
          <p class="text px-3 pb-3 te">See More</p>
        </a>
      </div>
      <div id="carouselExample2" class="carousel carousel-dark slide">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <div class="cards-wrapper">
<!--                P0-->
              <div class="container border border-0 card p-0 mx-2" id="postId">
                <div class="container-sm card-header border border-0">
                  <a href="{% url 'item_detail' popular_list.0.id %}">
                    <img src="{{ popular_img_list.0.url }}" class="img-fluid card-img-top" style="height:18rem;" alt="...">
                  </a>
                 </div>
                 <div class="img_card card-body">
                  <h5 class="card-title fw-semibold my-2">{{ popular_list.0.title }}</h5>
                  <p class="startBid card-text my-0 ">Current Bid</p>
                  <img src="{% static 'image/coin (3).png' %}"  width="25" height="25" class="post-coin mb-2">
                     {% if popular_list.0.sell_price <= 0 %}
                        <span class="currentBid fw-semibold">{{ popular_list.0.reverse_price }} </span>
                     {% else %}
                        <span class="currentBid fw-semibold">{{ popular_list.0.sell_price }} </span>
                     {% endif %}
                  <div class="dueDate d-flex mt-2">
                    <i class="fa-regular fa-clock me-1" style="color: #595b5e;"></i>
                    <span>Closes:</span>
                    <div class="d-flex mx-1">
                        <span class="date" id="countdown_p0"></span>
                      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                      <script>
                          $(document).ready(function() {
                              // var endDate = "2024-02-11T12:56"
                              var endDate = "{{ popular_list.0.due_date }}";

                              if (endDate != "expired") {
                                  var countdownDate = new Date(endDate).getTime();

                                  var x = setInterval(function() {
                                      var now = new Date().getTime();
                                      var distance = countdownDate - now;

                                      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                                      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                                      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                                      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                                      document.getElementById("countdown_p0").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

                                      if (distance < 0) {
                                          clearInterval(x);
                                          document.getElementById("countdown_p0").innerHTML = "EXPIRED";
                                      }
                                  }, 1000);
                              }
                              else {
                                  document.getElementById("countdown_p0").innerHTML = "EXPIRED";
                              }

                          });
                      </script>
                    </div>

                </div>

                     <form method="POST" action="{% url 'like_item' popular_list.0.id 'home' %}" class="rating">
                         {% csrf_token %}
                         {% if user in popular_list.0.liked_users.all %}
                              <button class="rate ms-1">
                                <i class="fa-solid fa-heart" style="color: #a80000;"></i>
                              </button>
                         {% else %}
                              <button class="rate">
                                  <i class="fa-regular fa-heart" style="color: #333;"></i>
                              </button>
                         {% endif %}
                         <span class="count heart_count">{{ popular_list.0.like_count }}</span>
                     </form>

                </div>
              </div>
<!--                P1-->
              <div class="container card d-none border border-0 d-md-block p-0 mx-2">
                <div class="container-sm card-header border border-0">
                  <a href="{% url 'item_detail' popular_list.1.id %}">
                    <img src="{{ popular_img_list.1.url }}" class="img-fluid card-img-top" style="height:18rem;" alt="...">
                  </a>
                 </div>
                 <div class="img_card card-body">
                  <h5 class="card-title fw-semibold my-2">{{ popular_list.1.title }}</h5>
                  <p class="startBid card-text my-0 ">Current Bid</p>
                  <img src="{% static 'image/coin (3).png' %}"  width="25" height="25" class="post-coin mb-2">
                    {% if popular_list.1.sell_price <= 0 %}
                        <span class="currentBid fw-semibold">{{ popular_list.1.reverse_price }} </span>
                     {% else %}
                        <span class="currentBid fw-semibold">{{ popular_list.1.sell_price }} </span>
                     {% endif %}
                     <div class="dueDate d-flex mt-2">
                    <i class="fa-regular fa-clock me-1" style="color: #595b5e;"></i>
                    <span>Closes:</span>
                    <div class="d-flex mx-1">
                      <span class="date" id="countdown_p1"></span>
                      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                      <script>
                          $(document).ready(function() {
                              // var endDate = "2024-02-11T12:56"
                              var endDate = "{{ popular_list.1.due_date }}";

                              if (endDate != "expired") {
                                  var countdownDate = new Date(endDate).getTime();

                                  var x = setInterval(function() {
                                      var now = new Date().getTime();
                                      var distance = countdownDate - now;

                                      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                                      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                                      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                                      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                                      document.getElementById("countdown_p1").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

                                      if (distance < 0) {
                                          clearInterval(x);
                                          document.getElementById("countdown_p1").innerHTML = "EXPIRED";
                                      }
                                  }, 1000);
                              }
                              else {
                                  document.getElementById("countdown_p1").innerHTML = "EXPIRED";
                              }

                          });
                      </script>
                    </div>

                </div>
                     <form method="POST" action="{% url 'like_item' popular_list.1.id 'home' %}" class="rating">
                         {% csrf_token %}
                         {% if user in popular_list.1.liked_users.all %}
                              <button class="rate ms-1">
                                <i class="fa-solid fa-heart" style="color: #a80000;"></i>
                              </button>
                         {% else %}
                              <button class="rate">
                                  <i class="fa-regular fa-heart" style="color: #333;"></i>
                              </button>
                         {% endif %}
                         <span class="count heart_count">{{ popular_list.1.like_count }}</span>
                     </form>
                </div>
              </div>
<!--                P2-->
              <div class="container card d-none border border-0 d-md-block p-0 mx-2">
                <div class="container-sm card-header border border-0">
                  <a href="{% url 'item_detail' popular_list.2.id %}">
                    <img src="{{ popular_img_list.2.url }}" class="img-fluid card-img-top" style="height:18rem;" alt="...">
                  </a>
                 </div>
             <div class="img_card card-body">
                <h5 class="card-title fw-semibold my-2">{{ popular_list.2.title }}</h5>
                <p class="startBid card-text my-0 ">Current Bid</p>
                <img src="{% static 'image/coin (3).png' %}"  width="25" height="25" class="post-coin mb-2">
                    {% if popular_list.2.sell_price <= 0 %}
                        <span class="currentBid fw-semibold">{{ popular_list.2.reverse_price }} </span>
                     {% else %}
                        <span class="currentBid fw-semibold">{{ popular_list.2.sell_price }} </span>
                     {% endif %}                <div class="dueDate d-flex mt-2">
                  <i class="fa-regular fa-clock me-1" style="color: #595b5e;"></i>
                  <span>Closes:</span>
                  <div class="d-flex mx-1">
                    <span class="date" id="countdown_p2"></span>
                      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                      <script>
                          $(document).ready(function() {
                              // var endDate = "2024-02-11T12:56"
                              var endDate = "{{ popular_list.2.due_date }}";

                              if (endDate != "expired") {
                                  var countdownDate = new Date(endDate).getTime();

                                  var x = setInterval(function() {
                                      var now = new Date().getTime();
                                      var distance = countdownDate - now;

                                      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                                      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                                      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                                      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                                      document.getElementById("countdown_p2").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

                                      if (distance < 0) {
                                          clearInterval(x);
                                          document.getElementById("countdown_p2").innerHTML = "EXPIRED";
                                      }
                                  }, 1000);
                              }
                              else {
                                  document.getElementById("countdown_p2").innerHTML = "EXPIRED";
                              }

                          });
                      </script>
                  </div>
              </div>
                 <form method="POST" action="{% url 'like_item' popular_list.2.id 'home' %}" class="rating">
                         {% csrf_token %}
                         {% if user in popular_list.2.liked_users.all %}
                              <button class="rate ms-1">
                                <i class="fa-solid fa-heart" style="color: #a80000;"></i>
                              </button>
                         {% else %}
                              <button class="rate">
                                  <i class="fa-regular fa-heart" style="color: #333;"></i>
                              </button>
                         {% endif %}
                         <span class="count heart_count">{{ popular_list.2.like_count }}</span>
                     </form>
              </div>
              </div>
            </div>
          </div>
          <div class="carousel-item">
            <div class="cards-wrapper">
<!--                P3-->
              <div class="container-sm card border border-0 p-0 mx-2">
                <div class="container-sm card-header border border-0">
                  <a href="{% url 'item_detail' popular_list.3.id %}">
                    <img src="{{ popular_img_list.3.url }}" class="img-fluid card-img-top" style="height:18rem;" alt="...">
                  </a>
                 </div>
             <div class="img_card card-body">
                <h5 class="card-title fw-semibold my-2">{{ popular_list.3.title }}</h5>
                <p class="startBid card-text my-0 ">Current Bid</p>
                <img src="{% static 'image/coin (3).png' %}"  width="25" height="25" class="post-coin mb-2">
                    {% if popular_list.3.sell_price <= 0 %}
                        <span class="currentBid fw-semibold">{{ popular_list.3.reverse_price }} </span>
                     {% else %}
                        <span class="currentBid fw-semibold">{{ popular_list.3.sell_price }} </span>
                     {% endif %}
                <div class="dueDate d-flex mt-2">
                  <i class="fa-regular fa-clock me-1" style="color: #595b5e;"></i>
                  <span>Closes:</span>
                  <div class="d-flex mx-1">
                    <span class="date" id="countdown_p3"></span>
                      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                      <script>
                          $(document).ready(function() {
                              // var endDate = "2024-02-11T12:56"
                              var endDate = "{{ popular_list.3.due_date }}";

                              if (endDate != "expired") {
                                  var countdownDate = new Date(endDate).getTime();

                                  var x = setInterval(function() {
                                      var now = new Date().getTime();
                                      var distance = countdownDate - now;

                                      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                                      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                                      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                                      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                                      document.getElementById("countdown_p3").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

                                      if (distance < 0) {
                                          clearInterval(x);
                                          document.getElementById("countdown_p3").innerHTML = "EXPIRED";
                                      }
                                  }, 1000);
                              }
                              else {
                                  document.getElementById("countdown_p3").innerHTML = "EXPIRED";
                              }

                          });
                      </script>
                  </div>
              </div>
                 <form method="POST" action="{% url 'like_item' popular_list.3.id 'home' %}" class="rating">
                         {% csrf_token %}
                         {% if user in popular_list.3.liked_users.all %}
                              <button class="rate ms-1">
                                <i class="fa-solid fa-heart" style="color: #a80000;"></i>
                              </button>
                         {% else %}
                              <button class="rate">
                                  <i class="fa-regular fa-heart" style="color: #333;"></i>
                              </button>
                         {% endif %}
                         <span class="count heart_count">{{ popular_list.3.like_count }}</span>
                     </form>
              </div>
              </div>
<!--                P4-->
              <div class="container-sm card d-none d-md-block border border-0 p-0 mx-2">
                <div class="container-sm card-header border border-0">
                  <a href="{% url 'item_detail' popular_list.4.id %}">
                    <img src="{{ popular_img_list.4.url }}" class="img-fluid card-img-top" style="height:18rem;" alt="...">
                  </a>
                 </div>
             <div class="img_card card-body">
                <h5 class="card-title fw-semibold my-2">{{ popular_list.4.title }}</h5>
                <p class="startBid card-text my-0 ">Current Bid</p>
                <img src="{% static 'image/coin (3).png' %}"  width="25" height="25" class="post-coin mb-2">
                {% if popular_list.4.sell_price <= 0 %}
                        <span class="currentBid fw-semibold">{{ popular_list.4.reverse_price }} </span>
                     {% else %}
                        <span class="currentBid fw-semibold">{{ popular_list.4.sell_price }} </span>
                     {% endif %}
                <div class="dueDate d-flex mt-2">
                  <i class="fa-regular fa-clock me-1" style="color: #595b5e;"></i>
                  <span>Closes:</span>
                  <div class="d-flex mx-1">
                    <span class="date" id="countdown_p4"></span>
                      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                      <script>
                          $(document).ready(function() {
                              // var endDate = "2024-02-11T12:56"
                              var endDate = "{{ popular_list.4.due_date }}";

                              if (endDate != "expired") {
                                  var countdownDate = new Date(endDate).getTime();

                                  var x = setInterval(function() {
                                      var now = new Date().getTime();
                                      var distance = countdownDate - now;

                                      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                                      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                                      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                                      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                                      document.getElementById("countdown_p4").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

                                      if (distance < 0) {
                                          clearInterval(x);
                                          document.getElementById("countdown_p4").innerHTML = "EXPIRED";
                                      }
                                  }, 1000);
                              }
                              else {
                                  document.getElementById("countdown_p4").innerHTML = "EXPIRED";
                              }

                          });
                      </script>
                  </div>

              </div>
                 <form method="POST" action="{% url 'like_item' popular_list.4.id 'home' %}" class="rating">
                         {% csrf_token %}
                         {% if user in popular_list.4.liked_users.all %}
                              <button class="rate ms-1">
                                <i class="fa-solid fa-heart" style="color: #a80000;"></i>
                              </button>
                         {% else %}
                              <button class="rate">
                                  <i class="fa-regular fa-heart" style="color: #333;"></i>
                              </button>
                         {% endif %}
                         <span class="count heart_count">{{ popular_list.4.like_count }}</span>
                     </form>
              </div>
              </div>
<!--                P5-->
              <div class="container-sm card d-none d-md-block border border-0 p-0 mx-2">
                <div class="container-sm card-header border border-0">
                  <a href="{% url 'item_detail' popular_list.5.id %}">
                    <img src="{{ popular_img_list.5.url }}" class="img-fluid card-img-top" style="height:18rem;" alt="...">
                  </a>
                 </div>
             <div class="img_card card-body">
                <h5 class="card-title fw-semibold my-2">{{ popular_list.5.title }}</h5>
                <p class="startBid card-text my-0 ">Current Bid</p>
                <img src="{% static 'image/coin (3).png' %}"  width="25" height="25" class="post-coin mb-2">
                {% if popular_list.5.sell_price <= 0 %}
                        <span class="currentBid fw-semibold">{{ popular_list.5.reverse_price }} </span>
                     {% else %}
                        <span class="currentBid fw-semibold">{{ popular_list.5.sell_price }} </span>
                     {% endif %}
                <div class="dueDate d-flex mt-2">
                  <i class="fa-regular fa-clock me-1" style="color: #595b5e;"></i>
                  <span>Closes:</span>
                  <div class="d-flex mx-1">
                    <span class="date" id="countdown_p5"></span>
                      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                      <script>
                          $(document).ready(function() {
                              // var endDate = "2024-02-11T12:56"
                              var endDate = "{{ popular_list.5.due_date }}";

                              if (endDate != "expired") {
                                  var countdownDate = new Date(endDate).getTime();

                                  var x = setInterval(function() {
                                      var now = new Date().getTime();
                                      var distance = countdownDate - now;

                                      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                                      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                                      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                                      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                                      document.getElementById("countdown_p5").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

                                      if (distance < 0) {
                                          clearInterval(x);
                                          document.getElementById("countdown_p5").innerHTML = "EXPIRED";
                                      }
                                  }, 1000);
                              }
                              else {
                                  document.getElementById("countdown_p5").innerHTML = "EXPIRED";
                              }

                          });
                      </script>
                  </div>
              </div>
                 <form method="POST" action="{% url 'like_item' popular_list.5.id 'home' %}" class="rating">
                         {% csrf_token %}
                         {% if user in popular_list.5.liked_users.all %}
                              <button class="rate ms-1">
                                <i class="fa-solid fa-heart" style="color: #a80000;"></i>
                              </button>
                         {% else %}
                              <button class="rate">
                                  <i class="fa-regular fa-heart" style="color: #333;"></i>
                              </button>
                         {% endif %}
                         <span class="count heart_count">{{ popular_list.5.like_count }}</span>
                     </form>
              </div>
              </div>
            </div>
          </div>
          <div class="carousel-item">
            <div class="cards-wrapper">
<!--                P6-->
              <div class="container-sm card border border-0 p-0 mx-2">
                <div class="container-sm card-header border border-0">
                  <a href="{% url 'item_detail' popular_list.6.id %}">
                    <img src="{{ popular_img_list.6.url }}" class="img-fluid card-img-top" style="height:18rem;" alt="...">
                  </a>
                 </div>
             <div class="img_card card-body">
                <h5 class="card-title fw-semibold my-2">{{ popular_list.6.title }}</h5>
                <p class="startBid card-text my-0 ">Current Bid</p>
                <img src="{% static 'image/coin (3).png' %}"  width="25" height="25" class="post-coin mb-2">
                {% if popular_list.6.sell_price <= 0 %}
                        <span class="currentBid fw-semibold">{{ popular_list.6.reverse_price }} </span>
                     {% else %}
                        <span class="currentBid fw-semibold">{{ popular_list.6.sell_price }} </span>
                     {% endif %}
                <div class="dueDate d-flex mt-2">
                  <i class="fa-regular fa-clock me-1" style="color: #595b5e;"></i>
                  <span>Closes:</span>
                  <div class="d-flex mx-1">
                    <span class="date" id="countdown_p6"></span>
                      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                      <script>
                          $(document).ready(function() {
                              // var endDate = "2024-02-11T12:56"
                              var endDate = "{{ popular_list.6.due_date }}";

                              if (endDate != "expired") {
                                  var countdownDate = new Date(endDate).getTime();

                                  var x = setInterval(function() {
                                      var now = new Date().getTime();
                                      var distance = countdownDate - now;

                                      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                                      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                                      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                                      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                                      document.getElementById("countdown_p6").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

                                      if (distance < 0) {
                                          clearInterval(x);
                                          document.getElementById("countdown_p6").innerHTML = "EXPIRED";
                                      }
                                  }, 1000);
                              }
                              else {
                                  document.getElementById("countdown_p6").innerHTML = "EXPIRED";
                              }

                          });
                      </script>
                  </div>
              </div>
                 <form method="POST" action="{% url 'like_item' popular_list.6.id 'home' %}" class="rating">
                         {% csrf_token %}
                         {% if user in popular_list.6.liked_users.all %}
                              <button class="rate ms-1">
                                <i class="fa-solid fa-heart" style="color: #a80000;"></i>
                              </button>
                         {% else %}
                              <button class="rate">
                                  <i class="fa-regular fa-heart" style="color: #333;"></i>
                              </button>
                         {% endif %}
                         <span class="count heart_count">{{ popular_list.6.like_count }}</span>
                     </form>
              </div>
              </div>
<!--                P7-->
              <div class="container-sm card d-none d-md-block border border-0 p-0 mx-2">
                <div class="container-sm card-header border border-0">
                  <a href="{% url 'item_detail' popular_list.7.id %}">
                    <img src="{{ popular_img_list.7.url }}" class="img-fluid card-img-top" style="height:18rem;" alt="...">
                  </a>
                 </div>
             <div class="img_card card-body">
                <h5 class="card-title fw-semibold my-2">{{ popular_list.7.title }}</h5>
                <p class="startBid card-text my-0 ">Current Bid</p>
                <img src="{% static 'image/coin (3).png' %}"  width="25" height="25" class="post-coin mb-2">
                {% if popular_list.7.sell_price <= 0 %}
                        <span class="currentBid fw-semibold">{{ popular_list.7.reverse_price }} </span>
                     {% else %}
                        <span class="currentBid fw-semibold">{{ popular_list.7.sell_price }} </span>
                     {% endif %}
                <div class="dueDate d-flex mt-2">
                  <i class="fa-regular fa-clock me-1" style="color: #595b5e;"></i>
                  <span>Closes:</span>
                  <div class="d-flex mx-1">
                    <span class="date" id="countdown_p7"></span>
                      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                      <script>
                          $(document).ready(function() {
                              // var endDate = "2024-02-11T12:56"
                              var endDate = "{{ popular_list.7.due_date }}";

                              if (endDate != "expired") {
                                  var countdownDate = new Date(endDate).getTime();

                                  var x = setInterval(function() {
                                      var now = new Date().getTime();
                                      var distance = countdownDate - now;

                                      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                                      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                                      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                                      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                                      document.getElementById("countdown_p7").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

                                      if (distance < 0) {
                                          clearInterval(x);
                                          document.getElementById("countdown_p7").innerHTML = "EXPIRED";
                                      }
                                  }, 1000);
                              }
                              else {
                                  document.getElementById("countdown_p7").innerHTML = "EXPIRED";
                              }

                          });
                      </script>
                  </div>

              </div>
                 <form method="POST" action="{% url 'like_item' popular_list.7.id 'home' %}" class="rating">
                         {% csrf_token %}
                         {% if user in popular_list.7.liked_users.all %}
                              <button class="rate ms-1">
                                <i class="fa-solid fa-heart" style="color: #a80000;"></i>
                              </button>
                         {% else %}
                              <button class="rate">
                                  <i class="fa-regular fa-heart" style="color: #333;"></i>
                              </button>
                         {% endif %}
                         <span class="count heart_count">{{ popular_list.7.like_count }}</span>
                     </form>
              </div>
              </div>
<!--                P8-->
              <div class="container-sm card d-none d-md-block border border-0 p-0 mx-2">
                <div class="container-sm card-header border border-0">
                  <a href="{% url 'item_detail' popular_list.8.id %}">
                    <img src="{{ popular_img_list.8.url }}" class="img-fluid card-img-top" style="height:18rem;" alt="...">
                  </a>
                 </div>
             <div class="img_card card-body">
                <h5 class="card-title fw-semibold my-2">{{ popular_list.8.title }}</h5>
                <p class="startBid card-text my-0 ">Current Bid</p>
                <img src="{% static 'image/coin (3).png' %}"  width="25" height="25" class="post-coin mb-2">
                    {% if popular_list.8.sell_price <= 0 %}
                        <span class="currentBid fw-semibold">{{ popular_list.8.reverse_price }} </span>
                    {% else %}
                        <span class="currentBid fw-semibold">{{ popular_list.8.sell_price }} </span>
                    {% endif %}
                <div class="dueDate d-flex mt-2">
                  <i class="fa-regular fa-clock me-1" style="color: #595b5e;"></i>
                  <span>Closes:</span>
                  <div class="d-flex mx-1">
                    <span class="date" id="countdown_p8"></span>
                      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                      <script>
                          $(document).ready(function() {
                              // var endDate = "2024-02-11T12:56"
                              var endDate = "{{ popular_list.8.due_date }}";

                              if (endDate != "expired") {
                                  var countdownDate = new Date(endDate).getTime();

                                  var x = setInterval(function() {
                                      var now = new Date().getTime();
                                      var distance = countdownDate - now;

                                      var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                                      var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                                      var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                                      var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                                      document.getElementById("countdown_p8").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

                                      if (distance < 0) {
                                          clearInterval(x);
                                          document.getElementById("countdown_p8").innerHTML = "EXPIRED";
                                      }
                                  }, 1000);
                              }
                              else {
                                  document.getElementById("countdown_p8").innerHTML = "EXPIRED";
                              }

                          });
                      </script>
                  </div>
                </div>
                 <form method="POST" action="{% url 'like_item' popular_list.8.id 'home' %}" class="rating">
                         {% csrf_token %}
                         {% if user in popular_list.8.liked_users.all %}
                              <button class="rate ms-1">
                                <i class="fa-solid fa-heart" style="color: #a80000;"></i>
                              </button>
                         {% else %}
                              <button class="rate">
                                  <i class="fa-regular fa-heart" style="color: #333;"></i>
                              </button>
                         {% endif %}
                         <span class="count heart_count">{{ popular_list.8.like_count }}</span>
                     </form>
              </div>
              </div>
            </div>
          </div>
          <button class="carousel-control-prev rounded-circle " type="button" style="height:5vh; width:5vh; top:30%;background-color: #9e9e9ea1;" data-bs-target="#carouselExample2" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button class="carousel-control-next rounded-circle " type="button" style="height:5vh; width:5vh; top:30%;background-color: #9e9e9ea1;" data-bs-target="#carouselExample2" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      </div>
    </div>
    <!----------------- /Popular --------------------------->

    <!-- -----------Follow us------------- -->
    <div class="termBox container-fluid bg-body-secondary" style="height: 90px;">
      <div class="container">
        <div class="container py-4">
          <div class=" list-unstyled d-flex justify-content-around m-0">
            <h3 class="fw-semibold col-2">Follow Us</h3>
            <i class="followUs fa-brands fa-facebook" style="color: rgb(0, 0, 0);"></i>
            <i class="followUs fa-brands fa-twitter" style="color: #000000;"></i>
            <i class="followUs fa-brands fa-instagram" style="color: #000000;"></i>
            <i class="followUs fa-brands fa-youtube" style="color: #000000;"></i>
            <i class="followUs fa-brands fa-linkedin" style="color: #000000;"></i>
          </div>
      </div>
    </div>
    <!-- ------------Trems------------ -->
      <div class="termBox container d-flex justify-content-between ">
        <ul class="explore_ul list-unstyled ms-5">
          <li class="fw-semibold text-black">About Eagle Auction</li>
          <li><a href="">About Eagle Auction</a></li>
          <li><a href="">Our Experts</a></li>
          <li><a href="">Careers</a></li>
        </ul>
  
        <ul class="explore_ul  list-unstyled">
          <li class="fw-semibold text-black">Buy</a></li>
          <li><a href="">How to Buy</a></li>
          <li><a href="">Buyer Protection</a></li>
          <li><a href="">Buyer terms</a></li>
        </ul>
  
        <ul class="explore_ul  list-unstyled">
          <li class="fw-semibold text-black">Sell</a></li>
          <li><a href="">How to Sell</a></li>
          <li><a href="">Seller Tips</a></li>
          <li><a href="">Seller terms</a></li>
        </ul>
  
        <ul class="explore_ul  list-unstyled">
          <li class="fw-semibold text-black">My Eagle</a></li>
          <li><a href="">Sign in</a></li>
          <li><a href="">Register</a></li>
          <li><a href="">Help Centre</a></li>
        </ul>
  
        <hr> 
      </div>
</body>
<!-- Script -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>

</body>

</html>